(window.webpackJsonp=window.webpackJsonp||[]).push([["Chat"],{"./node_modules/query-string/index.js":function(n,t,e){"use strict";var r=e("./node_modules/strict-uri-encode/index.js"),i=e("./node_modules/object-assign/index.js");function o(n,t){return t.encode?t.strict?r(n):encodeURIComponent(n):n}t.extract=function(n){return n.split("?")[1]||""},t.parse=function(n,t){var e=function(n){var t;switch(n.arrayFormat){case"index":return function(n,e,r){t=/\[(\d*)\]$/.exec(n),n=n.replace(/\[\d*\]$/,""),t?(void 0===r[n]&&(r[n]={}),r[n][t[1]]=e):r[n]=e};case"bracket":return function(n,e,r){t=/(\[\])$/.exec(n),n=n.replace(/\[\]$/,""),t?void 0!==r[n]?r[n]=[].concat(r[n],e):r[n]=[e]:r[n]=e};default:return function(n,t,e){void 0!==e[n]?e[n]=[].concat(e[n],t):e[n]=t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof n?r:(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach(function(n){var t=n.replace(/\+/g," ").split("="),i=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),e(decodeURIComponent(i),o,r)}),Object.keys(r).sort().reduce(function(n,t){var e=r[t];return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)?n[t]=function n(t){return Array.isArray(t)?t.sort():"object"==typeof t?n(Object.keys(t)).sort(function(n,t){return Number(n)-Number(t)}).map(function(n){return t[n]}):t}(e):n[t]=e,n},Object.create(null))):r},t.stringify=function(n,t){var e=function(n){switch(n.arrayFormat){case"index":return function(t,e,r){return null===e?[o(t,n),"[",r,"]"].join(""):[o(t,n),"[",o(r,n),"]=",o(e,n)].join("")};case"bracket":return function(t,e){return null===e?o(t,n):[o(t,n),"[]=",o(e,n)].join("")};default:return function(t,e){return null===e?o(t,n):[o(t,n),"=",o(e,n)].join("")}}}(t=i({encode:!0,strict:!0,arrayFormat:"none"},t));return n?Object.keys(n).sort().map(function(r){var i=n[r];if(void 0===i)return"";if(null===i)return o(r,t);if(Array.isArray(i)){var c=[];return i.slice().forEach(function(n){void 0!==n&&c.push(e(r,n,c.length))}),c.join("&")}return o(r,t)+"="+o(i,t)}).filter(function(n){return n.length>0}).join("&"):""}},"./node_modules/strict-uri-encode/index.js":function(n,t,e){"use strict";n.exports=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}},"./src/chat/actions/container.ts":function(n,t,e){"use strict";e.d(t,"a",function(){return u}),e.d(t,"c",function(){return d}),e.d(t,"b",function(){return f});var r=e("./node_modules/babel-runtime/regenerator/index.js"),i=e.n(r),o=e("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=e.n(o),a=e("./src/chat/constants/container.ts"),s=e("./src/lib/makeActionCreator/index.ts"),u="CONTAINER__SIZE_CHANGED",d=Object(s.a)(u),f=function(){return n=c()(i.a.mark(function n(t,e,r){var o;r.apiContext;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e().platform.currentPage){n.next=3;break}throw new Error("Could not open pop-out: current page not defined");case 3:window.open(o.url,"_blank","width=1024, height=768"),t(d(a.a.MINIMIZED));case 5:case"end":return n.stop()}},n,void 0)})),function(t,e,r){return n.apply(this,arguments)};var n}},"./src/chat/actions/theme.ts":function(n,t,e){"use strict";e.d(t,"a",function(){return u}),e.d(t,"c",function(){return h}),e.d(t,"b",function(){return p});var r=e("./node_modules/babel-runtime/regenerator/index.js"),i=e.n(r),o=e("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=e.n(o),a=e("./src/lib/makeActionCreator/index.ts"),s=e("./src/chat/constants/theme.ts"),u="THEME_CHANGED",d=s.b.REDDIT,f=s.b.NIGHT,l=Object(a.a)(u),h=function(){return n=c()(i.a.mark(function n(t,e){var r;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=e().user.prefs.globalTheme,t(l({themeKey:r===d?f:d}));case 3:case"end":return n.stop()}},n,void 0)})),function(t,e){return n.apply(this,arguments)};var n},p=function(n){return t=c()(i.a.mark(function t(e,r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e(l({themeKey:n?f:d}));case 2:case"end":return t.stop()}},t,void 0)})),function(n,e){return t.apply(this,arguments)};var t}},"./src/chat/constants/channels.ts":function(n,t,e){"use strict";var r,i;e.d(t,"b",function(){return r}),e.d(t,"a",function(){return i}),e.d(t,"g",function(){return c}),e.d(t,"f",function(){return o}),e.d(t,"d",function(){return s}),e.d(t,"e",function(){return u}),e.d(t,"c",function(){return a}),function(n){n.JOINED="JOINED",n.INVITED="INVITED",n.PARTIAL="PARTIAL",n.UNSORTED="NONE"}(r||(r={})),function(n){n.BLOCK="block",n.CREATE="create",n.DECLINE_REQUEST="decline",n.INVITE_MEMBERS="invite",n.INVITE_MEMBERS_CONFIRMATION="invite_confirmation",n.DENY="deny",n.LEAVE="leave",n.LOCK_CHANNEL_CONFIRMATION="lock_confirmation",n.VIEW_JOIN="join",n.VIEW_MEMBERS="members",n.VIEW_NSFW_CONFIRMATION="nsfw",n.VIEW_PRIVATE="private",n.VIEW_INVITE="invited"}(i||(i={}));var o,c=[i.DENY,i.VIEW_JOIN,i.VIEW_PRIVATE];!function(n){n.NonSuper="nonsuper",n.Super="super"}(o||(o={}));var a,s=30,u=99;!function(n){n.All="all",n.UnreadMessages="unread_message_count_only",n.Off="off"}(a||(a={}))},"./src/chat/constants/container.ts":function(n,t,e){"use strict";e.d(t,"a",function(){return r}),e.d(t,"b",function(){return i});var r={EMBED:"embed",FULL:"full",HIDDEN:"hidden",MINIMIZED:"minimized"},i={embed:{width:560,height:380},full:{width:void 0,height:void 0},hidden:{width:0,height:0},minimized:{width:126,height:40}}},"./src/chat/constants/theme.ts":function(n,t,e){"use strict";e.d(t,"b",function(){return r}),e.d(t,"a",function(){return i});var r={REDDIT:"REDDIT",NIGHT:"NIGHT"},i=r.REDDIT},"./src/chat/helpers/urls/index.ts":function(n,t,e){"use strict";e.d(t,"i",function(){return c}),e.d(t,"c",function(){return s}),e.d(t,"b",function(){return u}),e.d(t,"d",function(){return d}),e.d(t,"f",function(){return f}),e.d(t,"h",function(){return l}),e.d(t,"j",function(){return h}),e.d(t,"g",function(){return p}),e.d(t,"k",function(){return m}),e.d(t,"a",function(){return g}),e.d(t,"e",function(){return v});var r=e("./src/config.ts"),i=e("./node_modules/query-string/index.js"),o=e("./src/chat/constants/channels.ts"),c="/chat/",a=function(n){return n?function(n){return"r/"+String(n).toLowerCase()+"/channel"}(n):"channel"},s=function(n,t){return"/chat/"+a(t)+"/"+n},u=function(n,t,e){return"/chat/"+a(e)+"/"+n+"/"+t},d=function(n){return"/chat/user_id/"+n},f=function(n){return r.a.shortUrl+"/channel/"+n},l=function(n,t,e,r){return{pathname:u(n,e,r)+"/message/"+t,state:{isOverlay:!0}}},h=function(n,t,e,r,o){return u(n,e,r)+"/user/"+t+(o?"?"+Object(i.stringify)(o):"")},p=function(n){return new RegExp("reddit.com").test(n)?n.replace(/^.+reddit.com(\/r\/.+?\/).*$/g,"$1"):""},m=function(n){return r.a.redditUrl+"/user/"+n},g=function(n){return r.a.redditUrl+"/r/"+n+"/about/banned"},v=function(n,t){var e=n.channelId,r=n.channelState,i=o.b.INVITED,a=o.b.PARTIAL,d=o.b.JOINED,f=o.a.VIEW_JOIN,l=o.a.VIEW_INVITE;switch(r){case i:return u(e,l,t);case a:return u(e,f,t);case d:return s(e,t);default:return c}}},"./src/chat/index.tsx":function(n,t,e){"use strict";e.r(t);var r=e("./node_modules/history/index.js"),i=e("./node_modules/js-cookie/src/js.cookie.js"),o=e.n(i),c=(e("./src/polyfill.ts"),e("./node_modules/redux-thunk/lib/index.js")),a=e.n(c),s=e("./src/lib/constants/index.ts"),u=e("./src/lib/initializeClient/index.tsx"),d=e("./src/lib/matchRoute/index.ts"),f=e("./src/reduxMiddleware/apiContext.ts"),l=e("./src/chat/actions/apiRequestHeaders.ts"),h=e("./src/chat/actions/platform.ts"),p=e("./src/chat/actions/promo.ts"),m=e("./src/chat/actions/session.ts"),g=e("./src/chat/actions/user.ts"),v=e("./src/chat/components/Root/index.tsx"),b=e("./src/chat/customMiddleware/containerSize.ts"),F=e("./src/chat/customMiddleware/heartbeat.ts"),x=e("./src/chat/customMiddleware/iframeDispatcher.ts"),C=e("./src/chat/customMiddleware/loggedOutPreferencesSync.ts"),I=e("./src/chat/customMiddleware/sendbirdToken.ts"),D=e("./src/chat/customMiddleware/title.ts"),A=e("./src/chat/customMiddleware/tokenRefresher.ts"),E=e("./src/chat/customMiddleware/tracking.ts"),w=e("./src/chat/customMiddleware/unreadMessageCount.ts"),y=e("./src/chat/pageLoaders/async.ts"),T=e("./src/chat/reducers/index.ts"),j=e("./src/chat/routes/index.ts"),O=e("./src/chat/selectors/app.ts"),N=Object(f.a)({actionDispatchers:{reddaidReceived:g.r,loidReceived:g.q,sessionTrackerReceived:g.v},cookies:o.a,receivedActions:{loidReceived:g.e,reddaidReceived:g.f,sessionTrackerReceived:g.g,userAuthenticated:m.a,userLoggedOut:m.b,userReauthenticated:m.c,headersReceived:l.a},statsAppName:s.o.Chat}),R=Date.now();Object(u.a)({pageLoader:y.a,reducers:T.a,routes:j.a,apiContext:N.apiContext,appFactory:v.a,history:Object(O.d)()?Object(r.createMemoryHistory)({initialEntries:[window.location.pathname],initialIndex:0}):Object(r.createBrowserHistory)(),adsDisabled:!0,customMiddleware:[a.a.withExtraArgument({routes:j.a,apiContext:N.apiContext}),N.middleware,A.a,I.a,x.a,F.a,C.a,Object(E.a)(R),b.a,w.a,D.a],staticPages:{error:function(){throw new Error("Not Implemented: Error Static Page")},loading:function(){return null}},preRender:function(n){var t=n.browserHistory,e=n.routes,i=n.store;t.listen(function(n,t){var o=Object(d.a)(Object(r.createPath)(n),e);i.dispatch(Object(h.d)(n,t,o))}),i.dispatch(Object(p.f)())},raven:{appName:s.o.Chat},ssr:!0,target:document.getElementById("chat-container"),timingsSampleRate:1})},"./src/chat/reducers/subscribe.ts":function(n,t,e){"use strict";e.d(t,"a",function(){return r}),e.d(t,"b",function(){return i});var r=function(n,t){return t},i=function(n,t){return function(){return t(n.getState().actionListener)}}},"./src/reddit/constants/headers.ts":function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r="reddit-user_id"},"./src/reddit/helpers/styles/mixins/fonts.tsx":function(n,t,e){"use strict";e.r(t),e.d(t,"BODY_FONT_FALLBACKS",function(){return r}),e.d(t,"BODY_FONT_FAMILY",function(){return i}),e.d(t,"CODE_FONT_FAMILY",function(){return o}),e.d(t,"titleFontH1",function(){return c}),e.d(t,"titleFontH2",function(){return a}),e.d(t,"titleFontH3",function(){return s}),e.d(t,"titleFontH4",function(){return u}),e.d(t,"titleFontH5",function(){return d}),e.d(t,"titleFontH6",function(){return f}),e.d(t,"metadataFont",function(){return l}),e.d(t,"userFlairFont",function(){return h}),e.d(t,"flairFont",function(){return p}),e.d(t,"labelsFont",function(){return m}),e.d(t,"actionFont",function(){return g}),e.d(t,"smallButtonFont",function(){return v}),e.d(t,"largeButtonFont",function(){return b}),e.d(t,"tabFont",function(){return F}),e.d(t,"bodyFontH1",function(){return x}),e.d(t,"bodyFontH2",function(){return C}),e.d(t,"bodyFontH3",function(){return I}),e.d(t,"bodyFontH4",function(){return D}),e.d(t,"bodyFontH5",function(){return A}),e.d(t,"bodyFontH6",function(){return E}),e.d(t,"bodyFont",function(){return w}),e.d(t,"bodyFontSmall",function(){return y}),e.d(t,"bodyFontMono",function(){return T});var r="Helvetica Neue, Segoe UI, Helvetica, Verdana, Arial, sans-serif",i="Noto Sans, "+r,o="Noto Mono, Menlo, Consolas, Courier New, monospace",c="\n  font-size: 22px;\n  font-weight: 500;\n  line-height: 26px;\n",a="\n  font-size: 20px;\n  font-weight: 500;\n  line-height: 24px;\n",s="\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 22px;\n",u="\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 20px;\n",d="\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 18px;\n",f="\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 16px;\n",l="\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n",h=l,p="\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 16px;\n",m="\n  font-size: 10px;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n  line-height: 12px;\n  text-transform: uppercase;\n",g="\n  font-size: 12px;\n  font-weight: 700;\n  line-height: 16px;\n",v="\n  font-size: 12px;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n  line-height: 24px;\n  text-transform: uppercase;\n",b="\n  font-size: 14px;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n  line-height: 32px;\n  text-transform: uppercase;\n",F="\n  font-size: 14px;\n  font-weight: 700;\n  line-height: 32px;\n",x="\n  font-family: "+i+";\n  font-size: 22px;\n  font-weight: 400;\n  line-height: 26px;\n",C="\n  font-family: "+i+";\n  font-size: 20px;\n  font-weight: 400;\n  line-height: 24px;\n",I="\n  font-family: "+i+";\n  font-size: 18px;\n  font-weight: 400;\n  line-height: 22px;\n",D="\n  font-family: "+i+";\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 20px;\n",A="\n  font-family: "+i+";\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 18px;\n",E="\n  font-family: "+i+";\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n",w="\n  font-family: "+i+";\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 21px;\n",y="\n  font-family: "+i+";\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 18px;\n",T="\n  font-family: "+o+";\n  font-size: 13px;\n  font-weight: 400;\n  line-height: 20px;\n"},"./src/reddit/models/NewStructuredStyles/index.ts":function(n,t,e){"use strict";e.d(t,"c",function(){return f}),e.d(t,"a",function(){return m}),e.d(t,"b",function(){return g});var r=e("./node_modules/polished/dist/polished.es.js"),i=e("./src/reddit/models/Theme/NewColorSystem/index.ts"),o={borderRadius:"24",customSize:"32",padding:"6",size:"24"},c={highlight:"#E9F5FD",metaText:"#787C7E",placeholder:"#D3D6DA",postIcon:"#878A8C",postLine:"#D3D6DA",report:"#FFF7E5"},a={body:"#FFFFFF",actionIcon:"#878A8C",navIcon:"#1A1A1B",errorText:"#FF4500",field:"#F6F7F8",flair:"#EDEFF1",inactive:"#EDEFF1",line:"#EDEFF1",lightText:"#FFFFFF",pageHeader:"#0079D3",postFlairText:"#1A1A1B"},s={active:"#24A0ED",banner:{backgroundColor:"#24A0ED",backgroundImage:void 0,backgroundImagePosition:"cover",communityNameFormat:"slashtag",iconColor:"#24A0ED",iconImage:void 0,iconDimensions:o,lineHeight:"38",height:64,positionedImage:void 0,positionedImageHeight:48,positionedImageAlignment:"cover",secondaryBannerPositionedImage:void 0,showCommunityIcon:!0},bodyText:"#1A1A1B",button:"#0079D3",canvas:"#DAE0E6",linkText:"#0079D3",menu:"#FFFFFF",menuActiveText:"#0079D3",menuInactiveText:"#0079D3",metaText:"#787C7E",navBar:{activeLink:c.highlight,activeSubmenuCaret:"#24A0ED",activeSubmenuLink:"#24A0ED",backgroundColor:"#24A0ED",backgroundImage:void 0,hoverLink:c.highlight,inactiveLink:a.inactive,inactiveSubmenuCaret:Object(r.f)(.6,"#24A0ED"),inactiveSubmenuLink:Object(r.f)(.6,"#24A0ED"),submenuBackgroundColor:Object(r.f)(.93,"#24A0ED"),useOverlay:!1},post:"#FFFFFF",postFlairText:"#1A1A1B",titleText:"#1A1A1B",voteText:{base:"#878A8C",downvote:"#7193FF",upvote:"#FF4500"},voteIcons:{upvoteActive:void 0,upvoteInactive:void 0,downvoteActive:void 0,downvoteInactive:void 0},widgetColors:{sidebarWidgetBackgroundColor:"#FFFFFF",sidebarWidgetHeaderColor:"#FFFFFF",lineColor:Object(i.d)("#1A1A1B")}},u={actionIcon:"#818384",body:"#1A1A1B",bodyText:"#D7DADC",button:"#D7DADC",canvas:"#030303",errorText:"#FF4500",field:"#272729",highlight:"#17232D",inactive:"#343536",lightText:"#FFFFFF",line:"#343536",linkText:"#4FBCFF",menu:"#030303",menuActiveText:"#D7DADC",menuInactiveText:"#D7DADC",metaText:"#818384",navIcon:"#D7DADC",pageHeader:"#818384",placeholder:"#3A3A3C",post:"#1A1A1B",postFlairText:"#FFFFFF",postIcon:"#818384",postLine:"#343536",report:"#1C1402",titleText:"#D7DADC",voteText:{base:"#818384",downvote:"#7193FF",upvote:"#FF4500"},voteIcons:{upvoteActive:void 0,upvoteInactive:void 0,downvoteActive:void 0,downvoteInactive:void 0},widgetColors:{sidebarWidgetBackgroundColor:"#1A1A1B",sidebarWidgetHeaderColor:"#1A1A1B",lineColor:"#343536"}},d={active:"#0079D3",banner:{backgroundColor:"#24A0ED",backgroundImage:void 0,backgroundImagePosition:"cover",communityNameFormat:"slashtag",iconColor:"#24A0ED",iconImage:void 0,iconDimensions:o,lineHeight:"38",height:64,positionedImage:void 0,positionedImageHeight:48,positionedImageAlignment:"cover",secondaryBannerPositionedImage:void 0,showCommunityIcon:!0},flair:"#343536",navBar:{activeLink:c.highlight,activeSubmenuCaret:"#D7DADC",activeSubmenuLink:"#D7DADC",backgroundColor:"#030303",backgroundImage:void 0,hoverLink:"#D7DADC",inactiveLink:"#D7DADC",inactiveSubmenuCaret:"#D7DADC",inactiveSubmenuLink:"#D7DADC",submenuBackgroundColor:"#1A1A1B",useOverlay:!1}},f=function(n,t,e){return e?l(n):h(n,t)},l=function(n){return Object.assign({},g,{banner:n.banner||d.banner,navBar:n.navBar||d.navBar})},h=function(n,t){var e=void 0;return n.post?((e=Object.assign({},a,t,n,{bodyText:p(n.post,!1,.89),metaText:p(n.post,!1,.51),placeholder:p(n.post,!1,.16),postIcon:p(n.post,!1,.46),postLine:p(n.post,!1,.2),report:Object(r.c)(.1,"#FFB000",n.post)})).voteText.base=p(n.post,!1,.46),n.active?e.highlight=Object(r.c)(.1,n.active,n.post):e.highlight=p(n.post,!1,.1)):(e=Object.assign({},n,a,{active:s.active})).voteText.base=s.voteText.base,e},p=function(n,t,e){return Object(r.c)(e,function(n){return n?"#FFFFFF":"#000000"}(t),n)},m=Object.assign({},s,c,a),g=Object.assign({},d,u)},"./src/reddit/models/Theme/NewColorSystem/index.ts":function(n,t,e){"use strict";e.d(t,"f",function(){return o}),e.d(t,"d",function(){return c}),e.d(t,"e",function(){return a}),e.d(t,"c",function(){return s}),e.d(t,"a",function(){return u}),e.d(t,"b",function(){return d});var r=e("./node_modules/polished/dist/polished.es.js"),i=e("./src/reddit/models/NewStructuredStyles/index.ts"),o={borderRadius:"32",customSize:"52",padding:"10",size:"36"};function c(n){return Object(r.j)(.93,n)}function a(n,t,e){return Object(i.c)(n,t,e)}function s(n){return n.redditStyle||n["data-redditstyle"]?n.theme.newRedditTheme:n.theme.newCommunityTheme}function u(n){return n.theme.newRedditTheme}function d(n){return Object(r.e)(n,.2)}}},[["./src/chat/index.tsx","runtime","RedesignFonts","vendors~Chat~CollectionCommentsPage~CommentsPage~PostCreation~RedesignChat~RichTextEditor~Subreddit","vendors~Chat~Gifts~GovStandalonePoll~ProductionClient~Reddit~RedesignChat","vendors~Chat~Gifts~Governance~ProductionClient~Reddit","vendors~Chat~Governance~ProductionClient~Reddit","vendors~Chat~RedesignChat","Chat~Gifts~Governance~ProductionClient~Reddit","Chat~Governance~ProductionClient~Reddit","Chat~Governance~Reddit~RedesignChat","Chat~RedesignChat"]]]);
//# sourceMappingURL=Chat.e9f78537095c40941976.js.map